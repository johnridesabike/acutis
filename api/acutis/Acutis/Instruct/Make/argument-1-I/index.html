<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>I (acutis.Acutis.Instruct.Make.I)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">acutis</a> &#x00BB; <a href="../../../index.html">Acutis</a> &#x00BB; <a href="../../index.html">Instruct</a> &#x00BB; <a href="../index.html">Make</a> &#x00BB; I</nav><header class="odoc-preamble"><h1>Parameter <code><span>Make.I</span></code></h1><p>Define the semantics of our abstract language.</p></header><nav class="odoc-toc"><ul><li><a href="#statements-and-expressions.">Statements and expressions.</a></li><li><a href="#functions.">Functions.</a></li><li><a href="#control-flow.">Control flow.</a></li><li><a href="#standard-values.">Standard values.</a></li><li><a href="#arrays.">Arrays.</a></li><li><a href="#hash-tables.">Hash tables.</a></li><li><a href="#promises.">Promises.</a></li><li><a href="#buffers.">Buffers.</a></li><li><a href="#mutable-stacks.">Mutable stacks.</a></li><li><a href="#raise-errors.">Raise errors.</a></li><li><a href="#runtime-data.">Runtime data.</a></li></ul></nav><div class="odoc-content"><h2 id="statements-and-expressions."><a href="#statements-and-expressions." class="anchor"></a>Statements and expressions.</h2><div class="odoc-spec"><div class="spec type anchored" id="type-stmt"><a href="#type-stmt" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a stmt</span></span></code></div><div class="spec-doc"><p>A statement, generally some side-effecting code.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-obs"><a href="#type-obs" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a obs</span></span></code></div><div class="spec-doc"><p>The final evaluation result.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-observe"><a href="#val-observe" class="anchor"></a><code><span><span class="keyword">val</span> observe : <span><span><span class="type-var">'a</span> <a href="#type-stmt">stmt</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-obs">obs</a></span></span></code></div><div class="spec-doc"><p>Observe the evaluation result after all transformations have applied.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(|:)"><a href="#val-(|:)" class="anchor"></a><code><span><span class="keyword">val</span> (|:) : <span><span>unit <a href="#type-stmt">stmt</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-stmt">stmt</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-stmt">stmt</a></span></span></code></div><div class="spec-doc"><p>Sequence statements. <b>Evaluation order is unspecified in OCaml</b>. To guarantee that statements are evaluated in your intended order, you must let-bind each one before applying them to <code>|:</code>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-exp"><a href="#type-exp" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a exp</span></span></code></div><div class="spec-doc"><p>An expression.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-return"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-stmt">stmt</a></span></span></code></div><div class="spec-doc"><p>Return value <code>'a</code> from a function.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-let$"><a href="#val-let$" class="anchor"></a><code><span><span class="keyword">val</span> let$ : <span><span>(string * <span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-stmt">stmt</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-stmt">stmt</a></span></span></code></div><div class="spec-doc"><p>Define a new immutable binding. The string is used for pretty-printing.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-mut"><a href="#type-mut" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a mut</span></span></code></div><div class="spec-doc"><p>A mutable reference variable.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-let&amp;"><a href="#val-let&amp;" class="anchor"></a><code><span><span class="keyword">val</span> let&amp; : <span><span>(string * <span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span><span class="type-var">'a</span> <a href="#type-mut">mut</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-stmt">stmt</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-stmt">stmt</a></span></span></code></div><div class="spec-doc"><p>Define a new reference variable. The string is used for pretty-printing.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-deref"><a href="#val-deref" class="anchor"></a><code><span><span class="keyword">val</span> deref : <span><span><span class="type-var">'a</span> <a href="#type-mut">mut</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(:=)"><a href="#val-(:=)" class="anchor"></a><code><span><span class="keyword">val</span> (:=) : <span><span><span class="type-var">'a</span> <a href="#type-mut">mut</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-incr"><a href="#val-incr" class="anchor"></a><code><span><span class="keyword">val</span> incr : <span><span>int <a href="#type-mut">mut</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span></span></code></div></div><h2 id="functions."><a href="#functions." class="anchor"></a>Functions.</h2><div class="odoc-spec"><div class="spec value anchored" id="val-lambda"><a href="#val-lambda" class="anchor"></a><code><span><span class="keyword">val</span> lambda : <span><span>(<span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-stmt">stmt</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(@@)"><a href="#val-(@@)" class="anchor"></a><code><span><span class="keyword">val</span> (@@) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-exp">exp</a></span></span></code></div></div><h2 id="control-flow."><a href="#control-flow." class="anchor"></a>Control flow.</h2><div class="odoc-spec"><div class="spec value anchored" id="val-if_"><a href="#val-if_" class="anchor"></a><code><span><span class="keyword">val</span> if_ : 
  <span><span>bool <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">then_</span>:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">else_</span>:<span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span>)</span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="#type-stmt">stmt</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-while_"><a href="#val-while_" class="anchor"></a><code><span><span class="keyword">val</span> while_ : <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-exp">exp</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-external_data"><a href="#type-external_data" class="anchor"></a><code><span><span class="keyword">type</span> external_data</span></code></div><div class="spec-doc"><p>Data from the outside world that we need to decode.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-promise"><a href="#type-promise" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a promise</span></span></code></div><div class="spec-doc"><p>An asynchronous monad.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-import"><a href="#type-import" class="anchor"></a><code><span><span class="keyword">type</span> import</span></code></div><div class="spec-doc"><p>Information to import a function from external code.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-import"><a href="#val-import" class="anchor"></a><code><span><span class="keyword">val</span> import : 
  <span><a href="#type-import">import</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<span><a href="#type-external_data">external_data</a> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-promise">promise</a></span>)</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-stmt">stmt</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="#type-stmt">stmt</a></span></span></code></div><div class="spec-doc"><p>The import semantics are abstract because runtimes vary.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-export"><a href="#val-export" class="anchor"></a><code><span><span class="keyword">val</span> export : <span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-stmt">stmt</a></span></span></code></div></div><h2 id="standard-values."><a href="#standard-values." class="anchor"></a>Standard values.</h2><div class="odoc-spec"><div class="spec value anchored" id="val-unit"><a href="#val-unit" class="anchor"></a><code><span><span class="keyword">val</span> unit : <span>unit <a href="#type-stmt">stmt</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-not"><a href="#val-not" class="anchor"></a><code><span><span class="keyword">val</span> not : <span><span>bool <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int"><a href="#val-int" class="anchor"></a><code><span><span class="keyword">val</span> int : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-float"><a href="#val-float" class="anchor"></a><code><span><span class="keyword">val</span> float : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string"><a href="#val-string" class="anchor"></a><code><span><span class="keyword">val</span> string : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span><span class="keyword">val</span> bool : <span>bool <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pair"><a href="#val-pair" class="anchor"></a><code><span><span class="keyword">val</span> pair : <span><span>(<span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> * <span><span class="type-var">'b</span> <a href="#type-exp">exp</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-equal_int"><a href="#val-equal_int" class="anchor"></a><code><span><span class="keyword">val</span> equal_int : <span><span>int <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>int <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-equal_string"><a href="#val-equal_string" class="anchor"></a><code><span><span class="keyword">val</span> equal_string : <span><span>string <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>string <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int_to_string"><a href="#val-int_to_string" class="anchor"></a><code><span><span class="keyword">val</span> int_to_string : <span><span>int <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int_to_float"><a href="#val-int_to_float" class="anchor"></a><code><span><span class="keyword">val</span> int_to_float : <span><span>int <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-float_to_string"><a href="#val-float_to_string" class="anchor"></a><code><span><span class="keyword">val</span> float_to_string : <span><span>float <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bool_to_string"><a href="#val-bool_to_string" class="anchor"></a><code><span><span class="keyword">val</span> bool_to_string : <span><span>int <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-exp">exp</a></span></span></code></div></div><h2 id="arrays."><a href="#arrays." class="anchor"></a>Arrays.</h2><div class="odoc-spec"><div class="spec value anchored" id="val-array"><a href="#val-array" class="anchor"></a><code><span><span class="keyword">val</span> array : <span><span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-array_init"><a href="#val-array_init" class="anchor"></a><code><span><span class="keyword">val</span> array_init : <span><span>int <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(.%())"><a href="#val-(.%())" class="anchor"></a><code><span><span class="keyword">val</span> (.%()) : <span><span><span><span class="type-var">'a</span> array</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>int <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(.%()&lt;-)"><a href="#val-(.%()&lt;-)" class="anchor"></a><code><span><span class="keyword">val</span> (.%()&lt;-) : <span><span><span><span class="type-var">'a</span> array</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>int <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-array_concat"><a href="#val-array_concat" class="anchor"></a><code><span><span class="keyword">val</span> array_concat : <span><span><span>string array</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>string <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-exp">exp</a></span></span></code></div></div><h2 id="hash-tables."><a href="#hash-tables." class="anchor"></a>Hash tables.</h2><div class="odoc-spec"><div class="spec type anchored" id="type-hashtbl"><a href="#type-hashtbl" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a hashtbl</span></span></code></div><div class="spec-doc"><p>A mutable map of string keys to <code>'a</code> values.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hashtbl"><a href="#val-hashtbl" class="anchor"></a><code><span><span class="keyword">val</span> hashtbl : <span><span><span><span>(string * <span class="type-var">'a</span>)</span> <a href="#type-exp">exp</a></span> <span class="xref-unresolved">Stdlib</span>.Seq.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-hashtbl">hashtbl</a></span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hashtbl_create"><a href="#val-hashtbl_create" class="anchor"></a><code><span><span class="keyword">val</span> hashtbl_create : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-hashtbl">hashtbl</a></span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(.%{})"><a href="#val-(.%{})" class="anchor"></a><code><span><span class="keyword">val</span> (.%{}) : <span><span><span><span class="type-var">'a</span> <a href="#type-hashtbl">hashtbl</a></span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>string <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(.%{}&lt;-)"><a href="#val-(.%{}&lt;-)" class="anchor"></a><code><span><span class="keyword">val</span> (.%{}&lt;-) : <span><span><span><span class="type-var">'a</span> <a href="#type-hashtbl">hashtbl</a></span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>string <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hashtbl_mem"><a href="#val-hashtbl_mem" class="anchor"></a><code><span><span class="keyword">val</span> hashtbl_mem : <span><span><span><span class="type-var">'a</span> <a href="#type-hashtbl">hashtbl</a></span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>string <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hashtbl_copy"><a href="#val-hashtbl_copy" class="anchor"></a><code><span><span class="keyword">val</span> hashtbl_copy : <span><span><span><span class="type-var">'a</span> <a href="#type-hashtbl">hashtbl</a></span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-hashtbl">hashtbl</a></span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hashtbl_iter"><a href="#val-hashtbl_iter" class="anchor"></a><code><span><span class="keyword">val</span> hashtbl_iter : 
  <span><span><span><span class="type-var">'a</span> <a href="#type-hashtbl">hashtbl</a></span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span>string <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="#type-stmt">stmt</a></span></span></code></div></div><h2 id="promises."><a href="#promises." class="anchor"></a>Promises.</h2><div class="odoc-spec"><div class="spec value anchored" id="val-promise"><a href="#val-promise" class="anchor"></a><code><span><span class="keyword">val</span> promise : <span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-promise">promise</a></span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bind_array"><a href="#val-bind_array" class="anchor"></a><code><span><span class="keyword">val</span> bind_array : 
  <span><span><span><span>string <a href="#type-promise">promise</a></span> array</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span><span>string array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-promise">promise</a></span>)</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="#type-promise">promise</a></span> <a href="#type-exp">exp</a></span></span></code></div></div><h2 id="buffers."><a href="#buffers." class="anchor"></a>Buffers.</h2><div class="odoc-spec"><div class="spec type anchored" id="type-buffer"><a href="#type-buffer" class="anchor"></a><code><span><span class="keyword">type</span> buffer</span></code></div><div class="spec-doc"><p>This type is not a typical &quot;buffer&quot; since it must work with promises. The language may implement it however is most suitable.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-buffer_create"><a href="#val-buffer_create" class="anchor"></a><code><span><span class="keyword">val</span> buffer_create : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-buffer">buffer</a> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-buffer_add_string"><a href="#val-buffer_add_string" class="anchor"></a><code><span><span class="keyword">val</span> buffer_add_string : <span><span><a href="#type-buffer">buffer</a> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>string <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-buffer_add_promise"><a href="#val-buffer_add_promise" class="anchor"></a><code><span><span class="keyword">val</span> buffer_add_promise : <span><span><a href="#type-buffer">buffer</a> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>string <a href="#type-promise">promise</a></span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span></span></code></div></div><p>These are lambdas to minimize generated code.</p><div class="odoc-spec"><div class="spec value anchored" id="val-buffer_to_promise"><a href="#val-buffer_to_promise" class="anchor"></a><code><span><span class="keyword">val</span> buffer_to_promise : <span><span>(<span><a href="#type-buffer">buffer</a> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-promise">promise</a></span>)</span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-escape"><a href="#val-escape" class="anchor"></a><code><span><span class="keyword">val</span> escape : <span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> string)</span> <a href="#type-exp">exp</a></span></span></code></div></div><h2 id="mutable-stacks."><a href="#mutable-stacks." class="anchor"></a>Mutable stacks.</h2><div class="odoc-spec"><div class="spec type anchored" id="type-stack"><a href="#type-stack" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a stack</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stack_create"><a href="#val-stack_create" class="anchor"></a><code><span><span class="keyword">val</span> stack_create : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-stack">stack</a></span> <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stack_is_empty"><a href="#val-stack_is_empty" class="anchor"></a><code><span><span class="keyword">val</span> stack_is_empty : <span><span><span><span class="type-var">'a</span> <a href="#type-stack">stack</a></span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-exp">exp</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stack_push"><a href="#val-stack_push" class="anchor"></a><code><span><span class="keyword">val</span> stack_push : <span><span><span><span class="type-var">'a</span> <a href="#type-stack">stack</a></span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stack_drop"><a href="#val-stack_drop" class="anchor"></a><code><span><span class="keyword">val</span> stack_drop : <span><span><span><span class="type-var">'a</span> <a href="#type-stack">stack</a></span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-stmt">stmt</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stack_concat"><a href="#val-stack_concat" class="anchor"></a><code><span><span class="keyword">val</span> stack_concat : <span><span><span>string <a href="#type-stack">stack</a></span> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>string <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-exp">exp</a></span></span></code></div></div><h2 id="raise-errors."><a href="#raise-errors." class="anchor"></a>Raise errors.</h2><div class="odoc-spec"><div class="spec type anchored" id="type-error"><a href="#type-error" class="anchor"></a><code><span><span class="keyword">type</span> error</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise"><a href="#val-raise" class="anchor"></a><code><span><span class="keyword">val</span> raise : <span><span><a href="#type-error">error</a> <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-stmt">stmt</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-error"><a href="#val-error" class="anchor"></a><code><span><span class="keyword">val</span> error : <span><span>string <a href="#type-exp">exp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-error">error</a> <a href="#type-exp">exp</a></span></span></code></div></div><h2 id="runtime-data."><a href="#runtime-data." class="anchor"></a>Runtime data.</h2><div class="odoc-spec"><div class="spec type anchored" id="type-data"><a href="#type-data" class="anchor"></a><code><span><span class="keyword">type</span> data</span></code></div><div class="spec-doc"><p>Boxed runtime data. Either a string, an integer, a float, an array, or a hash table.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Data"><a href="#module-Data" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Data/index.html">Data</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-External"><a href="#module-External" class="anchor"></a><code><span><span class="keyword">module</span> <a href="External/index.html">External</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The foreign data before it's parsed into <code>Data.t</code>.</p></div></div></div></body></html>
